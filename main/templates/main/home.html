{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–∫–∞—Ä –ú–∞–∫–∞—Ä–æ–≤ - –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <meta name="description" content="–ú–∞–∫–∞—Ä –ú–∞–∫–∞—Ä–æ–≤ - Frontend & Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫. –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã.">
</head>
<body>
    <!-- –í–∏–¥–µ–æ —Ñ–æ–Ω -->
    <video id="video-background" autoplay muted loop>
        <source src="{% static 'img/background.mp4' %}" type="video/mp4">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
    </video>

    <div class="content-overlay">
    <header>
        <h1>–ú–∞–∫–∞—Ä–æ–≤ –ú–∞–∫–∞—Ä</h1>
        <p>Frontend & Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</p>
      </header>
    
      <div class="container">
        <section class="profile-section">
            <div class="about-section">
                <h2>–û–±–æ –º–Ω–µ</h2>
                <div class="about-button-container">
                    <a href="{% url 'about' %}" class="about-button">
                        <span class="about-text">–£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ–±–æ –º–Ω–µ</span>
                    </a>
                </div>
            </div>
            
            <div class="projects-section">
                <h2>–ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã</h2>
                <div class="github-section">
                    <a href="https://github.com/DevMakar" target="_blank" class="github-link">
                        <span class="github-text">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã –Ω–∞ GitHub</span>
                    </a>
                </div>
            </div>
        </section>
          
    
        <section class="contacts">
          <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
          <p>–ú–æ–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –∏ email:</p>
          <a href="mailto:sereghza7194841@gmail.com">üìß</a>
          <a href="https://t.me/MPADark" target="_blank">‚úàÔ∏è</a>
          
          <div class="phone-section">
            <button class="phone-button" onclick="togglePhoneInfo()">
              <span class="phone-text">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</span>
            </button>
            <div class="phone-info" id="phoneInfo">
              <p>–ú–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: <strong>060416146</strong> <span class="copy-icon" onclick="copyPhoneNumber()" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä">üìã</span></p>
            </div>
          </div>

        </section>
      </div>
    
      <footer>
        <p>¬© 2025 –ú–∞–∫–∞—Ä –ú–∞–∫–∞—Ä–æ–≤ –†–æ–º–∞–Ω–æ–≤–∏—á. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ç–æ -->
    <div id="photoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closePhotoModal()">&times;</span>
            <img src="{% static 'img/myphoto.jpg' %}" alt="–ú–∞–∫–∞—Ä –ú–∞–∫–∞—Ä–æ–≤" class="modal-photo">
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ñ–æ—Ç–æ
        function openPhotoModal() {
            document.getElementById('photoModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closePhotoModal() {
            document.getElementById('photoModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        window.onclick = function(event) {
            const modal = document.getElementById('photoModal');
            if (event.target === modal) {
                closePhotoModal();
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ –∫–ª–∞–≤–∏—à–µ Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closePhotoModal();
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function togglePhoneInfo() {
            const phoneInfo = document.getElementById('phoneInfo');
            const phoneButton = document.querySelector('.phone-button');
            const phoneText = document.querySelector('.phone-text');
            
            if (phoneInfo.style.display === 'none' || phoneInfo.style.display === '') {
                phoneInfo.style.display = 'block';
                phoneText.textContent = '–°–∫—Ä—ã—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';
                phoneButton.classList.add('active');
            } else {
                phoneInfo.style.display = 'none';
                phoneText.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';
                phoneButton.classList.remove('active');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
        function copyPhoneNumber() {
            const phoneNumber = '060416146';
            
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API Clipboard
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(phoneNumber).then(function() {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏
                    showCopyNotification();
                }).catch(function(err) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏:', err);
                    fallbackCopyTextToClipboard(phoneNumber);
                });
            } else {
                // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                fallbackCopyTextToClipboard(phoneNumber);
            }
        }

        // Fallback —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showCopyNotification();
                }
            } catch (err) {
                console.error('Fallback: –û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏', err);
            }
            
            document.body.removeChild(textArea);
        }

        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏
        function showCopyNotification() {
            const notification = document.createElement('div');
            notification.className = 'copy-notification';
            notification.textContent = '–ù–æ–º–µ—Ä —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!';
            document.body.appendChild(notification);
            
            setTimeout(function() {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(function() {
                notification.classList.remove('show');
                setTimeout(function() {
                    document.body.removeChild(notification);
                }, 300);
            }, 2000);
        }

        // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        (function() {
            const video = document.getElementById('video-background');
            const isLowEndDevice = navigator.hardwareConcurrency <= 2 || 
                                 navigator.deviceMemory <= 4 ||
                                 /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isLowEndDevice) {
                // –£–º–µ–Ω—å—à–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                video.style.opacity = '0.6';
                video.style.filter = 'contrast(1.2) saturate(1.1) brightness(1.0)';
                
                // –ü—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
                let isScrolling = false;
                window.addEventListener('scroll', function() {
                    if (!isScrolling) {
                        isScrolling = true;
                        video.pause();
                        setTimeout(function() {
                            video.play();
                            isScrolling = false;
                        }, 100);
                    }
                });
            }
            
            // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ
            video.addEventListener('loadstart', function() {
                video.style.opacity = '0';
            });
            
            video.addEventListener('canplay', function() {
                video.style.opacity = isLowEndDevice ? '0.6' : '0.9';
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∏–¥–µ–æ
            video.addEventListener('error', function() {
                document.body.style.background = 'linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%)';
            });
        })();
    </script>

</body>
</html>